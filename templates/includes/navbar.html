<!-- ðŸ”¸ Navbar (Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø¹Ø±Ø¶ ÙÙŠ RTL) -->
<header
  class="fixed top-0 left-0 right-0 md:right-64 h-16 z-50
         bg-gradient-to-l from-blue-600 to-blue-500 text-white shadow-md">
  <div class="h-full px-4 sm:px-6 lg:px-8 flex items-center justify-between">

    <!-- Ø§Ù„ØªØ­ÙŠØ© / Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
    <div class="flex items-center gap-2 font-semibold truncate">
      <span class="whitespace-nowrap">ðŸ‘‹ Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ {{ user.first_name|default:user.username }}</span>
      <!-- Ù„Ùˆ Ø­Ø§Ø¨ ØªØ¶ÙŠÙ ÙˆÙ‚Øª Ù„Ø§Ø­Ù‚Ù‹Ø§: <span class="text-white/80 text-sm">|  {{ now|date:"H:i" }}</span> -->
    </div>

    <!-- Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙŠØ³Ø§Ø± -->
    <div class="flex items-center gap-4">

      <!-- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
      <div class="relative">
        <button id="notifBtn" class="hover:bg-white/20 p-2 rounded-full transition relative">
          <i data-lucide="bell" class="w-5 h-5 text-white"></i>
          <span id="notifBadge" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] rounded-full px-1 hidden">3</span>
        </button>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
        <div id="notifMenu"
             class="hidden absolute left-0 mt-2 w-64 bg-white text-gray-700 rounded-xl shadow-lg
                    overflow-hidden border border-gray-100">
          <div class="px-4 py-2 bg-gray-50 font-semibold text-sm border-b">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</div>
          <div class="p-4 text-sm text-gray-500">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹ ðŸ””</div>
        </div>
      </div>

      <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ -->
      <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ -->
<form action="{% url 'logout' %}" method="post">
  {% csrf_token %}
  <button
    class="bg-red-500 hover:bg-red-600 text-white text-sm font-semibold px-4 py-2 rounded-lg transition flex items-center gap-1 shadow-sm">
    <i data-lucide="log-out" class="w-4 h-4"></i>
    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
  </button>
</form>

    </div>
  </div>
</header>

<script>
  lucide.createIcons();

  // Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
  const notifBtn = document.getElementById("notifBtn");
  const notifMenu = document.getElementById("notifMenu");
  const notifBadge = document.getElementById("notifBadge");

  notifBtn?.addEventListener("click", () => {
    notifMenu?.classList.toggle("hidden");
    notifBadge?.classList.add("hidden");
  });

  document.addEventListener("click", (e) => {
    if (!notifBtn?.contains(e.target) && !notifMenu?.contains(e.target)) {
      notifMenu?.classList.add("hidden");
    }
  });
</script>
